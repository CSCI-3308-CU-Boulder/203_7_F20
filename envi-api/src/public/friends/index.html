<!DOCTYPE html>
<html>

<head>
  <title>envi</title>
  <link rel="shortcut icon" type="image/png" href="../assets/favicon-32.png" />
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
  <link rel="stylesheet" href="../resources/css/envi_style.css" />


  <nav class="navbar navbar-light" style="background-color: #c5c3ba">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="../home">Home</a>
      </li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <li style="text-align:right">
        <a href="#logout_modal" data-toggle="modal">
          <img class="pull-right" src="../assets/profile_pic_placeholder.gif" id="navbar_profile">
        </a>
      </li>
    </ul>
  </nav>
</head>
</head>

<body onload="loadFriends()">
  <!-- Side navigation -->
  <div class="sidenav" style="width: 250px">
    <br />
    <br />
    <br />
    <br />
    <p>
      <a href="../home">
        <img src="../assets/envi.png" alt="envi logo" width="200px" height="200px"
          style="margin-top: -100px; margin-left: 25px; margin-bottom: 20px" />
      </a>
    </p>
    <a href="../profile" class="sidenav-button" style="margin-top: -10px">Profile</a>
    <a href="../tracking" class="sidenav-button" style="margin-top: 10px">Tracking</a>
    <a href="../friends" class="sidenav-button" style="margin-top: 10px">Friends</a>
    <a href="../donate" class="sidenav-button" style="margin-top: 10px">Donate</a>
  </div>

  <!-- Logout Modal -->
  <div id="logout_modal" class="modal logout-modal" style="backdrop-filter: none;">
    <div role="document">
      <div class="modal-content">
        <div class="modal-header" id="modal_header"
          style="max-height: 40px; display: flex; align-items: center; border: none;">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body" id="modal_body"
          style="max-height: 70px; display: flex; align-items: center; border: none;">
          <a style="color: #297562; font-size: large" id="logout_name">You are not logged in.</a>
        </div>
        <div class="modal-footer" id="lgout_buttons"
          style="max-height: 70px; display: flex; align-items: center; border: none;">
          <a href="../login">
            <button type="button" class="button">Log In</button></a>
          <a href="../signup">
            <button type="button" class="button">Sign Up</button></a>
        </div>
      </div>
    </div>
  </div>

  <div id="main" style="margin-left: 250px">
    <div class="row">
      <div class="col-6">
        <!-- friend achievements here -->
        <div id="friend_achievements" style="padding-left: 15px"></div>
      </div>
      <div class="col-6">
        <!-- friends list here -->
        <p class="custom-header">My Friends</p>
        <div id="numFriends"></div>
        <div class="button" data-toggle="modal" data-target="#addFriend">find friends...</div>
        <div class="button" onclick="loadFriends()">Reload Feed</div>
        <div id="friends" style="margin-top: 10px"></div>
      </div>
    </div>
  </div>

  <div id="addFriend" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Find Friends</h4>
        </div>
        <div class="modal-body">
          <div style="width: 100%;">
            <input type="text" placeholder="Search" onkeyup="searchBar()" id="searchBar"
              style="margin-bottom: 10px; width: 100%">
            <div id="search_results"></div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="button" data-dismiss="modal">Close</button>
        </div>
      </div>

    </div>
  </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
    integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
    integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
    crossorigin="anonymous"></script>

  <!-- Axios -->
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <!-- JS-Cookie -->
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>

  <script src="../resources/js/utilities.js"></script>
  <script src="../resources/js/navbar.js"></script>
  <script src="./friends.js"></script>
</body>

</html>